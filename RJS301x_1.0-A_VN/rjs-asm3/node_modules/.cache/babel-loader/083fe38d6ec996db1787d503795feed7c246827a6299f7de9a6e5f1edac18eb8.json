{"ast":null,"code":"import { createSlice, configureStore } from \"@reduxjs/toolkit\";\n\n// redux quản lý trạng thái hiển thị popup\nconst popupState = {\n  popupShow: false,\n  data: {}\n};\nconst popupSlice = createSlice({\n  name: \"popup\",\n  initialState: popupState,\n  reducers: {\n    show(state, action) {\n      state.popupShow = true;\n      state.data = action.payload;\n    },\n    hide(state) {\n      state.popupShow = false;\n    }\n  }\n});\n\n// Redux quản lý trạng thái đăng nhập\nconst authState = {\n  isLogin: false,\n  name: \"\"\n};\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState: authState,\n  reducers: {\n    login(state, action) {\n      state.isLogin = true;\n      state.name = action.payload.name;\n      localStorage.setItem(\"USER\", JSON.stringify(action.payload));\n    },\n    logout(state) {\n      state.isLogin = false;\n      localStorage.setItem(\"USER\", JSON.stringify({}));\n    }\n  }\n});\n\n// Redux quản lý giỏ hàng\nconst cartState = {\n  data: []\n};\nconst cartSlice = createSlice({\n  name: \"cart\",\n  initialState: cartState,\n  reducers: {\n    addCart(state, action) {\n      const {\n        newData,\n        userId\n      } = action.payload;\n      state.data.push(newData);\n      localStorage.setItem(userId, JSON.stringify(state.data));\n    },\n    updateCart(state, action) {\n      const {\n        newData,\n        userId\n      } = action.payload;\n      state.data = newData;\n      localStorage.setItem(userId, JSON.stringify(state.data));\n    },\n    loadCart(state, action) {\n      const userId = action.payload;\n      const data = localStorage.getItem(userId) ? JSON.parse(localStorage.getItem(userId)) : [];\n      state.data = data;\n    }\n  }\n});\nconst store = configureStore({\n  reducer: {\n    popup: popupSlice.reducer,\n    auth: authSlice.reducer,\n    cart: cartSlice.reducer\n  }\n});\nexport const popupActions = popupSlice.actions;\nexport const authActions = authSlice.actions;\nexport const cartActions = cartSlice.actions;\nexport default store;","map":{"version":3,"names":["createSlice","configureStore","popupState","popupShow","data","popupSlice","name","initialState","reducers","show","state","action","payload","hide","authState","isLogin","authSlice","login","localStorage","setItem","JSON","stringify","logout","cartState","cartSlice","addCart","newData","userId","push","updateCart","loadCart","getItem","parse","store","reducer","popup","auth","cart","popupActions","actions","authActions","cartActions"],"sources":["D:/LAPTRINH/Fnuix/RJS301x_1.0-A_VN/rjs-asm3/src/store/index.js"],"sourcesContent":["import { createSlice, configureStore } from \"@reduxjs/toolkit\";\r\n\r\n// redux quản lý trạng thái hiển thị popup\r\nconst popupState = { popupShow: false, data: {} };\r\nconst popupSlice = createSlice({\r\n  name: \"popup\",\r\n  initialState: popupState,\r\n  reducers: {\r\n    show(state, action) {\r\n      state.popupShow = true;\r\n      state.data = action.payload;\r\n    },\r\n    hide(state) {\r\n      state.popupShow = false;\r\n    },\r\n  },\r\n});\r\n\r\n// Redux quản lý trạng thái đăng nhập\r\nconst authState = { isLogin: false, name: \"\" };\r\nconst authSlice = createSlice({\r\n  name: \"auth\",\r\n  initialState: authState,\r\n  reducers: {\r\n    login(state, action) {\r\n      state.isLogin = true;\r\n      state.name = action.payload.name;\r\n      localStorage.setItem(\"USER\", JSON.stringify(action.payload));\r\n    },\r\n    logout(state) {\r\n      state.isLogin = false;\r\n      localStorage.setItem(\"USER\", JSON.stringify({}));\r\n    },\r\n  },\r\n});\r\n\r\n// Redux quản lý giỏ hàng\r\nconst cartState = { data: [] };\r\nconst cartSlice = createSlice({\r\n  name: \"cart\",\r\n  initialState: cartState,\r\n  reducers: {\r\n    addCart(state, action) {\r\n      const { newData, userId } = action.payload;\r\n      state.data.push(newData);\r\n      localStorage.setItem(userId, JSON.stringify(state.data));\r\n    },\r\n    updateCart(state, action) {\r\n      const { newData, userId } = action.payload;\r\n      state.data = newData;\r\n      localStorage.setItem(userId, JSON.stringify(state.data));\r\n    },\r\n    loadCart(state, action) {\r\n      const userId = action.payload;\r\n      const data = localStorage.getItem(userId)\r\n        ? JSON.parse(localStorage.getItem(userId))\r\n        : [];\r\n      state.data = data;\r\n    },\r\n  },\r\n});\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    popup: popupSlice.reducer,\r\n    auth: authSlice.reducer,\r\n    cart: cartSlice.reducer,\r\n  },\r\n});\r\n\r\nexport const popupActions = popupSlice.actions;\r\nexport const authActions = authSlice.actions;\r\nexport const cartActions = cartSlice.actions;\r\nexport default store;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}